<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=yes">
    <title>UAE Properties - Premium Dashboard</title>
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <!-- PDF Generation -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Poppins', sans-serif;
        }

        :root {
            --primary: #c9a227;
            --primary-dark: #b48a1a;
            --bg-primary: #0b1423;
            --bg-secondary: #141f33;
            --bg-card: #ffffff;
            --border: #2a3b57;
            --text-primary: #ffffff;
            --text-secondary: #fef3c7;
            --text-muted: #9aa8b9;
            --danger: #ef4444;
            --warning: #f59e0b;
            --success: #10b981;
            --gold: #fbbf24;
            --card-text: #000000;
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }

        ::-webkit-scrollbar-track {
            background: var(--bg-secondary);
            border-radius: 10px;
        }

        ::-webkit-scrollbar-thumb {
            background: var(--border);
            border-radius: 10px;
            border: 2px solid var(--bg-secondary);
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--primary);
        }

        * {
            scrollbar-width: thin;
            scrollbar-color: var(--border) var(--bg-secondary);
        }

        body {
            background-color: var(--bg-primary);
            color: var(--text-primary);
            overflow-x: hidden;
        }

        /* Login Page Styles */
        .login-page {
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
            background: linear-gradient(rgba(0,0,0,0.75), rgba(0,0,0,0.75)),
                        url('https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTi--ILPQ3v9d-cjGr8sLF-OURqyYeGF7HXMw&s') center/cover no-repeat;
            position: relative;
            overflow: hidden;
        }

        .login-container {
            background: rgba(255,255,255,0.98);
            padding: 30px;
            border-radius: 20px;
            width: 100%;
            max-width: 420px;
            box-shadow: 0 20px 50px rgba(0,0,0,0.3);
            border: 1px solid rgba(201,162,39,0.3);
        }

        .header-brand {
            text-align: center;
            margin-bottom: 25px;
        }

        .header-logo {
            width: 100px;
            height: 100px;
            object-fit: contain;
            margin-bottom: 15px;
            filter: drop-shadow(0 4px 8px rgba(201,162,39,0.3));
        }

        .header-brand h1 {
            color: #1f3f5b;
            font-size: 28px;
            font-weight: 700;
            margin-bottom: 5px;
        }

        .subtitle {
            color: #666;
            font-size: 15px;
        }

        @media (max-width: 480px) {
            .login-container {
                padding: 20px;
            }
            
            .header-logo {
                width: 80px;
                height: 80px;
            }
            
            .header-brand h1 {
                font-size: 24px;
            }
        }

        .login-tabs {
            display: flex;
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .login-tab {
            flex: 1;
            padding: 1rem;
            background: #f5f5f5;
            border: 2px solid #ddd;
            border-radius: 10px;
            color: #333;
            cursor: pointer;
            text-align: center;
            font-weight: 500;
            transition: all 0.3s;
        }

        .login-tab.active {
            border-color: var(--primary);
            color: var(--primary);
            background: rgba(201,162,39,0.1);
        }

        .login-form .form-group {
            margin-bottom: 1.5rem;
        }

        .login-form label {
            display: block;
            margin-bottom: 0.5rem;
            color: #555;
            font-size: 0.9rem;
            font-weight: 500;
        }

        .login-form input {
            width: 100%;
            padding: 1rem;
            background: #fff;
            border: 2px solid #ddd;
            border-radius: 10px;
            color: #333;
            font-size: 1rem;
            transition: all 0.3s;
        }

        .login-form input:focus {
            outline: none;
            border-color: var(--primary);
        }

        .login-btn {
            width: 100%;
            padding: 1rem;
            background: var(--primary);
            color: #000;
            border: none;
            border-radius: 10px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            margin-top: 1rem;
        }

        .login-btn:hover {
            background: var(--primary-dark);
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(201,162,39,0.3);
        }

        /* Main Dashboard Styles */
        .dashboard {
            display: none;
        }

        .dashboard.active {
            display: block;
        }

        /* Navbar - Fixed */
        .navbar {
            background: linear-gradient(135deg, #0b1423 0%, #1a2a45 100%);
            padding: 0.8rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 3px solid var(--primary);
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
            flex-wrap: wrap;
            box-shadow: 0 4px 20px rgba(0,0,0,0.3);
        }

        .logo-box {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .logo-img {
            width: 55px;
            height: 55px;
            object-fit: contain;
            filter: brightness(0) invert(1);
        }

        .logo-text {
            font-size: 24px;
            font-weight: 700;
            color: var(--primary);
            line-height: 1.2;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }

        .logo-text span {
            display: block;
            font-size: 14px;
            font-weight: 500;
            color: #fff;
        }

        /* Nav Links - Desktop */
        .nav-links {
            display: flex;
            gap: 2rem;
            align-items: center;
            flex-wrap: wrap;
        }

        .nav-link {
            color: #fff;
            text-decoration: none;
            font-size: 1rem;
            transition: all 0.3s;
            cursor: pointer;
            padding: 0.5rem 1rem;
            border-radius: 8px;
            position: relative;
            overflow: hidden;
        }

        .nav-link::before {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 2px;
            background: var(--primary);
            transform: translateX(-100%);
            transition: transform 0.3s;
        }

        .nav-link:hover::before,
        .nav-link.active::before {
            transform: translateX(0);
        }

        .nav-link:hover, .nav-link.active {
            color: var(--primary);
            background: rgba(201,162,39,0.1);
        }

        .user-info {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 0.5rem 1rem;
            background: rgba(255,255,255,0.05);
            border-radius: 50px;
            border: 2px solid var(--border);
            backdrop-filter: blur(10px);
        }

        .user-avatar {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, var(--primary) 0%, #ffd700 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #0b1423;
            font-weight: bold;
            border: 2px solid #fff;
        }

        .user-details {
            line-height: 1.4;
        }

        .user-name {
            font-weight: 600;
            color: #fff;
        }

        .user-type {
            font-size: 0.8rem;
            color: var(--primary);
        }

        .logout-btn {
            background: transparent;
            border: 2px solid var(--border);
            color: #fff;
            padding: 0.5rem 1.5rem;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 500;
        }

        .logout-btn:hover {
            border-color: var(--danger);
            color: var(--danger);
            background: rgba(239,68,68,0.1);
        }

        /* Mobile Menu Toggle */
        .mobile-menu-toggle {
            display: none;
            background: transparent;
            border: none;
            color: #fff;
            font-size: 24px;
            cursor: pointer;
            padding: 0.5rem;
        }

        /* Responsive Navbar */
        @media (max-width: 1024px) {
            .navbar {
                padding: 0.8rem 1rem;
            }

            .mobile-menu-toggle {
                display: block;
            }

            .nav-links {
                display: none;
                width: 100%;
                flex-direction: column;
                gap: 1rem;
                padding: 1rem 0;
                margin-top: 1rem;
                border-top: 2px solid var(--border);
            }

            .nav-links.active {
                display: flex;
            }

            .nav-link {
                width: 100%;
                text-align: center;
            }

            .user-info {
                width: 100%;
                justify-content: center;
            }

            .logout-btn {
                width: 100%;
                margin: 0;
            }
        }

        /* Main Container */
        .main-container {
            display: flex;
            margin-top: 80px;
            min-height: calc(100vh - 80px);
        }

        @media (max-width: 1024px) {
            .main-container {
                flex-direction: column;
                margin-top: 70px;
            }
        }

        /* Filters Sidebar */
        .filters-sidebar {
            width: 320px;
            background: var(--bg-secondary);
            padding: 2rem 1.5rem;
            position: fixed;
            height: calc(100vh - 80px);
            overflow-y: auto;
            border-right: 2px solid var(--border);
            left: 0;
            top: 80px;
        }

        @media (max-width: 1024px) {
            .filters-sidebar {
                width: 100%;
                height: auto;
                position: relative;
                padding: 1rem;
                top: 0;
                left: 0;
                border-right: none;
                border-bottom: 2px solid var(--border);
            }
        }

        .filters-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
            position: sticky;
            top: 0;
            background: var(--bg-secondary);
            padding: 1rem 0;
            z-index: 10;
        }

        .filters-header h3 {
            color: var(--primary);
            font-size: 1.2rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .clear-filters {
            color: var(--text-muted);
            cursor: pointer;
            font-size: 0.9rem;
            transition: color 0.3s;
            display: flex;
            align-items: center;
            gap: 0.3rem;
        }

        .clear-filters:hover {
            color: var(--primary);
        }

        .filter-section {
            margin-bottom: 2rem;
            padding-bottom: 1.5rem;
            border-bottom: 2px solid var(--border);
        }

        .filter-section h4 {
            color: var(--text-primary);
            margin-bottom: 1rem;
            font-size: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .filter-section h4 i {
            color: var(--primary);
        }

        .filter-options {
            display: flex;
            flex-direction: column;
            gap: 0.8rem;
            max-height: 200px;
            overflow-y: auto;
            padding-right: 0.5rem;
        }

        .filter-checkbox {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            color: var(--text-secondary);
            cursor: pointer;
            padding: 0.3rem;
            border-radius: 5px;
            transition: background 0.3s;
        }

        .filter-checkbox:hover {
            background: rgba(255,255,255,0.1);
        }

        .filter-checkbox input[type="checkbox"] {
            accent-color: var(--primary);
            width: 18px;
            height: 18px;
            cursor: pointer;
        }

        .filter-select {
            width: 100%;
            padding: 0.8rem;
            background: var(--bg-card);
            border: 2px solid var(--border);
            border-radius: 10px;
            color: #333;
            margin-bottom: 0.5rem;
            cursor: pointer;
        }

        .filter-select:focus {
            outline: none;
            border-color: var(--primary);
        }

        .filter-select option {
            color: #333;
            background: #fff;
        }

        /* Area Management */
        .area-management {
            margin-top: 1rem;
        }

        .area-list {
            max-height: 150px;
            overflow-y: auto;
            border: 2px solid var(--border);
            border-radius: 10px;
            padding: 0.5rem;
            margin-bottom: 1rem;
        }

        .area-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.5rem;
            border-bottom: 1px solid var(--border);
            color: var(--text-secondary);
        }

        .area-item:last-child {
            border-bottom: none;
        }

        .area-item button {
            background: var(--danger);
            color: #fff;
            border: none;
            border-radius: 5px;
            width: 25px;
            height: 25px;
            cursor: pointer;
            font-size: 12px;
        }

        .area-item button:hover {
            background: #dc2626;
        }

        .add-area-input {
            display: flex;
            gap: 0.5rem;
            margin-bottom: 0.5rem;
        }

        .add-area-input input {
            flex: 1;
            padding: 0.8rem;
            background: var(--bg-card);
            border: 2px solid var(--border);
            border-radius: 10px;
            color: #333;
        }

        .add-area-input input:focus {
            outline: none;
            border-color: var(--primary);
        }

        .add-area-input button {
            padding: 0.8rem 1.5rem;
            background: var(--primary);
            border: none;
            border-radius: 10px;
            color: #000;
            font-weight: 600;
            cursor: pointer;
            white-space: nowrap;
        }

        .add-area-input button:hover {
            background: var(--primary-dark);
        }

        .add-area-note {
            font-size: 0.8rem;
            color: var(--text-muted);
            margin-top: 0.5rem;
        }

        .price-range {
            display: flex;
            gap: 0.5rem;
        }

        .price-range input {
            width: 50%;
            padding: 0.8rem;
            background: var(--bg-card);
            border: 2px solid var(--border);
            border-radius: 10px;
            color: #333;
        }

        .price-range input:focus {
            outline: none;
            border-color: var(--primary);
        }

        .radio-group {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .radio-label {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            color: var(--text-secondary);
            cursor: pointer;
            padding: 0.3rem;
            border-radius: 5px;
            transition: background 0.3s;
        }

        .radio-label:hover {
            background: rgba(255,255,255,0.1);
        }

        .radio-label input[type="radio"] {
            accent-color: var(--primary);
            width: 18px;
            height: 18px;
            cursor: pointer;
        }

        .apply-filters-btn {
            width: 100%;
            padding: 1rem;
            background: var(--primary);
            color: #000;
            border: none;
            border-radius: 10px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            margin-top: 1rem;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            position: sticky;
            bottom: 1rem;
        }

        .apply-filters-btn:hover {
            background: var(--primary-dark);
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(201,162,39,0.3);
        }

        /* Content Area */
        .content-area {
            flex: 1;
            margin-left: 320px;
            padding: 2rem;
        }

        @media (max-width: 1024px) {
            .content-area {
                margin-left: 0;
                padding: 1rem;
            }
        }

        /* Upload Form */
        .upload-form {
            background: var(--bg-secondary);
            padding: 2rem;
            border-radius: 20px;
            border: 2px solid var(--border);
            max-width: 900px;
            margin: 0 auto;
        }

        @media (max-width: 768px) {
            .upload-form {
                padding: 1rem;
            }
        }

        .upload-form h2 {
            color: var(--primary);
            margin-bottom: 2rem;
            text-align: center;
        }

        .form-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1rem;
        }

        @media (max-width: 640px) {
            .form-grid {
                grid-template-columns: 1fr;
            }
            
            .form-group.full-width {
                grid-column: span 1;
            }
        }

        .form-group {
            margin-bottom: 1rem;
        }

        .form-group.full-width {
            grid-column: span 2;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 0.8rem;
            background: var(--bg-card);
            border: 2px solid var(--border);
            border-radius: 10px;
            color: #333;
            font-size: 0.9rem;
        }

        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: var(--primary);
        }

        .form-group textarea {
            height: 100px;
            resize: vertical;
        }

        .image-upload-area {
            border: 2px dashed var(--border);
            border-radius: 10px;
            padding: 2rem;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            background: var(--bg-card);
        }

        .image-upload-area:hover {
            border-color: var(--primary);
        }

        .image-upload-area i {
            font-size: 3rem;
            color: var(--primary);
            margin-bottom: 1rem;
        }

        .image-upload-area p {
            color: #666;
        }

        .image-preview {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 1rem;
            margin-top: 1rem;
        }

        @media (max-width: 768px) {
            .image-preview {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        .preview-item {
            position: relative;
            aspect-ratio: 1;
            border-radius: 10px;
            overflow: hidden;
        }

        .preview-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .preview-item .remove-image {
            position: absolute;
            top: 5px;
            right: 5px;
            width: 25px;
            height: 25px;
            background: var(--danger);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 0.8rem;
            color: #fff;
        }

        .btn-upload {
            width: 100%;
            padding: 1rem;
            background: var(--primary);
            color: #000;
            border: none;
            border-radius: 10px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            margin-top: 1rem;
        }

        .btn-upload:hover {
            background: var(--primary-dark);
            transform: translateY(-2px);
        }

        /* Properties Header */
        .properties-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .properties-header h2 {
            color: var(--primary);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .search-box {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            background: var(--bg-secondary);
            padding: 0.5rem 1rem;
            border-radius: 10px;
            border: 2px solid var(--border);
        }

        .search-box input {
            background: transparent;
            border: none;
            color: var(--text-primary);
            font-size: 0.9rem;
            width: 250px;
        }

        .search-box input:focus {
            outline: none;
        }

        .search-box input::placeholder {
            color: var(--text-muted);
        }

        .search-box i {
            color: var(--text-muted);
        }

        /* Properties Grid */
        .properties-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 2rem;
        }

        @media (min-width: 1200px) {
            .properties-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        /* Status Badge - Top of Card */
        .status-badge {
            position: absolute;
            top: 20px;
            right: 20px;
            padding: 6px 16px;
            border-radius: 30px;
            font-size: 13px;
            font-weight: 600;
            text-transform: uppercase;
            z-index: 10;
            box-shadow: 0 2px 8px rgba(0,0,0,0.2);
        }

        .status-badge.rent {
            background: #10b981;
            color: white;
        }

        .status-badge.sale {
            background: #f59e0b;
            color: white;
        }

        .status-badge.under-construction {
            background: #ef4444;
            color: white;
        }

        .status-badge.sold-out {
            background: #6b7280;
            color: white;
        }

        /* Date Badge */
        .date-badge {
            position: absolute;
            top: 20px;
            left: 20px;
            padding: 6px 16px;
            border-radius: 30px;
            font-size: 12px;
            font-weight: 500;
            background: rgba(0,0,0,0.6);
            color: white;
            z-index: 10;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .date-badge i {
            color: var(--primary);
        }

        /* Property Card - Exact Match with Image */
        .property-card {
            width: 100%;
            max-width: 900px;
            background: #fff;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.15);
            padding: 20px;
            margin: 0 auto;
            transition: all 0.3s;
            border: 1px solid #e0e0e0;
            position: relative;
        }

        .property-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(201,162,39,0.2);
            border-color: var(--primary);
        }

        /* Card Header - Users Properties UAE */
        .card-header {
            text-align: center;
            margin-bottom: 15px;
        }

        .card-header h1 {
            color: #1a2a45;
            font-size: 26px;
            font-weight: 700;
            letter-spacing: 0.5px;
        }

        .card-header p {
            color: var(--primary);
            font-size: 15px;
            font-weight: 500;
            margin-top: 3px;
        }

        /* Image Grid - Fixed for consistent sizing */
        .image-grid-container {
            display: flex;
            flex-direction: column;
            gap: 8px;
            margin-bottom: 15px;
        }

        /* Main grid (first two images) */
        .grid-main {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 8px;
            height: 200px;
        }

        /* Bottom grid */
        .grid-bottom {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 8px;
            height: 200px;
        }

        /* Right column with 3 images */
        .right-column {
            display: grid;
            grid-template-rows: repeat(3, 1fr);
            gap: 8px;
            height: 100%;
        }

        /* All images */
        .img {
            position: relative;
            overflow: hidden;
            border-radius: 12px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            width: 100%;
            height: 100%;
            min-height: 0;
        }

        .img img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.3s;
        }

        .img:hover img {
            transform: scale(1.05);
        }

        /* Image labels */
        .label {
            position: absolute;
            bottom: 8px;
            left: 10px;
            color: #fff;
            font-size: 12px;
            font-weight: 600;
            text-shadow: 0 1px 2px rgba(0,0,0,0.5);
            background: rgba(201,162,39,0.9);
            padding: 4px 12px;
            border-radius: 20px;
            letter-spacing: 0.3px;
            z-index: 5;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            max-width: calc(100% - 20px);
        }

        /* Price and Title Row */
        .price-row {
            display: flex;
            align-items: center;
            gap: 15px;
            margin: 15px 0;
            flex-wrap: wrap;
        }

        .price {
            background: #0c3554;
            color: #fff;
            padding: 10px 25px;
            border-radius: 40px;
            font-size: 24px;
            font-weight: 700;
            letter-spacing: 0.5px;
            box-shadow: 0 4px 10px rgba(12,53,84,0.3);
            display: inline-block;
            white-space: nowrap;
        }

        .title {
            font-size: 22px;
            color: #1a2a45;
            font-weight: 600;
            line-height: 1.3;
            flex: 1;
        }

        /* Info Grid - Location, Type, Size */
        .info-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 12px;
            margin-bottom: 15px;
            background: #f8f9fa;
            padding: 12px;
            border-radius: 12px;
        }

        .info-box {
            font-size: 14px;
            color: #333;
            line-height: 1.5;
        }

        .info-box b {
            display: block;
            color: #0c3554;
            font-size: 15px;
            margin-bottom: 3px;
            font-weight: 600;
        }

        .info-box i {
            color: var(--primary);
            margin-right: 5px;
        }

        /* Features Row */
        .features {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
            margin-bottom: 15px;
        }

        .feature {
            background: #f3f4f6;
            padding: 10px 12px;
            border-radius: 30px;
            font-size: 13px;
            display: flex;
            align-items: center;
            gap: 6px;
            color: #333;
            font-weight: 500;
            border: 1px solid #e5e7eb;
        }

        .feature i {
            color: var(--primary);
            font-size: 14px;
        }

        /* Contact Section */
        .contact {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 15px;
            margin-top: 10px;
            padding-top: 15px;
            border-top: 2px solid #eee;
        }

        .numbers {
            font-size: 15px;
            color: #333;
        }

        .numbers div {
            margin: 5px 0;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .numbers i {
            color: var(--primary);
            width: 20px;
            font-size: 16px;
        }

        .btns {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .btn {
            padding: 12px 28px;
            border: none;
            border-radius: 40px;
            color: #fff;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            letter-spacing: 0.3px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.15);
        }

        .contact-btn {
            background: linear-gradient(135deg, #0c3554, #1a4a6e);
        }

        .download-btn {
            background: linear-gradient(135deg, #c9a227, #b88945);
        }

        /* Admin Actions */
        .admin-actions {
            display: flex;
            gap: 8px;
            margin-left: auto;
        }

        .approve-btn,
        .delete-btn,
        .status-btn {
            padding: 8px 16px;
            border: none;
            border-radius: 30px;
            cursor: pointer;
            font-size: 12px;
            font-weight: 600;
            transition: all 0.3s;
            display: inline-flex;
            align-items: center;
            gap: 5px;
        }

        .approve-btn {
            background: #10b981;
            color: white;
        }

        .approve-btn:hover {
            background: #059669;
        }

        .delete-btn {
            background: #ef4444;
            color: white;
        }

        .delete-btn:hover {
            background: #dc2626;
        }

        .status-btn {
            background: var(--primary);
            color: #000;
        }

        .status-btn:hover {
            background: var(--primary-dark);
        }

        /* Mobile Responsive - Perfect Match */
        @media(max-width: 768px) {
            .property-card {
                padding: 15px;
            }

            .card-header h1 {
                font-size: 22px;
            }

            .card-header p {
                font-size: 14px;
            }

            .grid-main {
                grid-template-columns: 1fr;
                height: auto;
                gap: 8px;
            }
            
            .grid-main .img {
                height: 180px;
            }
            
            .grid-bottom {
                grid-template-columns: 1fr;
                height: auto;
                gap: 8px;
            }
            
            .right-column {
                grid-template-rows: repeat(3, 140px);
                gap: 8px;
            }

            .price-row {
                flex-direction: column;
                align-items: flex-start;
                gap: 8px;
            }

            .price {
                font-size: 20px;
                padding: 8px 20px;
                white-space: nowrap;
            }

            .title {
                font-size: 18px;
                margin-left: 0;
            }

            .info-grid {
                grid-template-columns: 1fr;
                gap: 8px;
                padding: 10px;
            }

            .info-box {
                font-size: 13px;
            }

            .info-box b {
                font-size: 14px;
            }

            .features {
                grid-template-columns: repeat(2, 1fr);
                gap: 8px;
            }

            .feature {
                font-size: 12px;
                padding: 8px 10px;
            }

            .contact {
                flex-direction: column;
                align-items: flex-start;
                gap: 10px;
            }

            .numbers {
                font-size: 14px;
            }

            .btns {
                width: 100%;
                flex-direction: row;
                gap: 8px;
            }

            .btn {
                flex: 1;
                padding: 10px 15px;
                font-size: 13px;
                text-align: center;
            }

            .admin-actions {
                margin-left: 0;
                width: 100%;
                justify-content: flex-end;
            }

            .status-badge,
            .date-badge {
                font-size: 11px;
                padding: 4px 12px;
            }

            .label {
                font-size: 11px;
                padding: 3px 10px;
            }
        }

        @media(max-width: 480px) {
            .grid-main .img {
                height: 150px;
            }
            
            .right-column {
                grid-template-rows: repeat(3, 120px);
            }
            
            .features {
                grid-template-columns: 1fr;
            }

            .btns {
                flex-direction: column;
            }

            .btn {
                width: 100%;
            }

            .admin-actions {
                flex-direction: column;
            }

            .approve-btn,
            .delete-btn,
            .status-btn {
                width: 100%;
                justify-content: center;
            }
        }

        /* Property Modal */
        .property-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.98);
            z-index: 2000;
            justify-content: center;
            align-items: center;
            padding: 1rem;
            overflow-y: auto;
        }

        .property-modal.active {
            display: flex;
        }

        .modal-content {
            background: #fff;
            border-radius: 24px;
            max-width: 1000px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
        }

        .modal-close {
            position: absolute;
            top: 1rem;
            right: 1rem;
            width: 40px;
            height: 40px;
            background: #f0f0f0;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s;
            z-index: 1;
            color: #333;
            font-size: 20px;
        }

        .modal-close:hover {
            background: var(--danger);
            color: #fff;
            transform: rotate(90deg);
        }

        .modal-gallery {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 1rem;
            padding: 2rem;
            background: #f8f9fa;
        }

        @media (max-width: 768px) {
            .modal-gallery {
                grid-template-columns: 1fr;
                padding: 1rem;
            }
        }

        .main-image {
            width: 100%;
            height: 400px;
            border-radius: 16px;
            overflow: hidden;
        }

        .main-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .thumbnail-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 0.5rem;
            height: 400px;
            overflow-y: auto;
        }

        .thumbnail {
            width: 100%;
            height: 195px;
            border-radius: 12px;
            overflow: hidden;
            cursor: pointer;
            opacity: 0.7;
            transition: all 0.3s;
        }

        .thumbnail:hover,
        .thumbnail.active {
            opacity: 1;
            border: 3px solid var(--primary);
        }

        .thumbnail img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .modal-details {
            padding: 2rem;
            color: #333;
        }

        .modal-title {
            font-size: 1.8rem;
            color: #0c3554;
            margin-bottom: 0.5rem;
        }

        .modal-location {
            color: #666;
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .modal-price {
            font-size: 1.6rem;
            font-weight: 700;
            color: var(--primary);
            margin-bottom: 1.5rem;
        }

        .modal-specs {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 1rem;
            margin-bottom: 2rem;
            padding: 1.5rem;
            background: #f8f9fa;
            border-radius: 16px;
        }

        .spec-item {
            display: flex;
            align-items: center;
            gap: 0.8rem;
            color: #333;
            font-size: 15px;
        }

        .spec-item i {
            color: var(--primary);
            font-size: 18px;
        }

        .modal-description {
            color: #555;
            line-height: 1.8;
            margin-bottom: 2rem;
            font-size: 15px;
        }

        .modal-amenities {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .amenity-item {
            display: flex;
            align-items: center;
            gap: 0.8rem;
            color: #333;
            padding: 0.8rem;
            background: #f8f9fa;
            border-radius: 10px;
        }

        .amenity-item i {
            color: var(--primary);
        }

        .modal-actions {
            display: flex;
            gap: 1rem;
            margin-top: 2rem;
        }

        .btn-share,
        .btn-download {
            flex: 1;
            padding: 1rem;
            border: none;
            border-radius: 40px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 15px;
        }

        .btn-share {
            background: transparent;
            border: 2px solid var(--primary);
            color: var(--primary);
        }

        .btn-share:hover {
            background: var(--primary);
            color: #000;
        }

        .btn-download {
            background: var(--primary);
            color: #000;
        }

        .btn-download:hover {
            background: var(--primary-dark);
        }

        /* Loading Spinner */
        .spinner {
            width: 40px;
            height: 40px;
            border: 4px solid #eee;
            border-top-color: var(--primary);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 2rem auto;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* No Results */
        .no-results {
            text-align: center;
            padding: 3rem 1rem;
            color: #fff;
            grid-column: 1 / -1;
        }

        .no-results i {
            font-size: 4rem;
            margin-bottom: 1rem;
            color: var(--primary);
        }

        .no-results h3 {
            font-size: 24px;
            margin-bottom: 0.5rem;
        }

        .no-results p {
            color: #999;
        }
    </style>
</head>
<body>
    <!-- Login Page -->
    <div class="login-page" id="loginPage">
        <div class="login-container">
           <div class="header-brand">
                <img src="https://cdn-icons-png.flaticon.com/512/3176/3176366.png" alt="UAE Properties Logo" class="header-logo">
                <h1>UAE Properties</h1>
                <p class="subtitle">Premium Property Portal</p>
            </div>
            
            <div class="login-tabs">
                <div class="login-tab active" onclick="switchLoginTab('user')">User Login</div>
                <div class="login-tab" onclick="switchLoginTab('admin')">Admin Login</div>
            </div>

            <div class="login-form" id="loginForm">
                <div class="form-group">
                    <label>Username</label>
                    <input type="text" id="username" placeholder="Enter username" value="user">
                </div>
                <div class="form-group">
                    <label>Password</label>
                    <input type="password" id="password" placeholder="Enter password" value="password123">
                </div>
                <button class="login-btn" onclick="handleLogin()">Login to Dashboard</button>
            </div>
        </div>
    </div>

    <!-- Main Dashboard -->
    <div class="dashboard" id="dashboard">
        <!-- Navbar with Mobile Toggle -->
        <nav class="navbar">
            <div class="logo-box">
                <img src="https://cdn-icons-png.flaticon.com/512/3176/3176366.png" alt="UAE Properties Logo" class="logo-img">
                <div class="logo-text">
                    UAE Properties
                    <span>Premium Real Estate</span>
                </div>
            </div>

            <button class="mobile-menu-toggle" onclick="toggleMobileMenu()">
                <i class="fas fa-bars"></i>
            </button>

            <div class="nav-links" id="navLinks">
                <span class="nav-link active" onclick="showSection('properties')">Properties</span>
                <span class="nav-link" onclick="showSection('upload')" id="uploadLink">Upload Property</span>
                <div class="user-info" id="userInfo">
                    <div class="user-avatar" id="userAvatar">U</div>
                    <div class="user-details">
                        <div class="user-name" id="displayName">User</div>
                        <div class="user-type" id="userType">User</div>
                    </div>
                </div>
                <button class="logout-btn" onclick="logout()">Logout</button>
            </div>
        </nav>

        <!-- Main Container -->
        <div class="main-container">
            <!-- Filters Sidebar -->
            <div class="filters-sidebar">
                <div class="filters-header">
                    <h3><i class="fas fa-filter"></i> Filters</h3>
                    <span class="clear-filters" onclick="clearAllFilters()">
                        <i class="fas fa-times"></i> Clear All
                    </span>
                </div>

                <div class="filter-section">
                    <h4><i class="fas fa-city"></i> City</h4>
                    <select class="filter-select" id="filterCity" onchange="updateFilterAreas()">
                        <option value="">All Cities</option>
                        <option value="Dubai">Dubai</option>
                        <option value="Abu Dhabi">Abu Dhabi</option>
                        <option value="Sharjah">Sharjah</option>
                        <option value="Ajman">Ajman</option>
                        <option value="Ras Al Khaimah">Ras Al Khaimah</option>
                        <option value="Fujairah">Fujairah</option>
                        <option value="Umm Al Quwain">Umm Al Quwain</option>
                    </select>
                </div>

                <div class="filter-section">
                    <h4><i class="fas fa-map-marker-alt"></i> Area <small style="color: var(--primary);">(Add Unlimited)</small></h4>
                    <div class="area-management">
                        <div class="add-area-input">
                            <input type="text" id="newAreaInput" placeholder="Enter area name...">
                            <button onclick="addNewArea()"><i class="fas fa-plus"></i> Add</button>
                        </div>
                        <div class="area-list" id="areaList">
                            <!-- Areas will be added here -->
                        </div>
                        <p class="add-area-note"><i class="fas fa-info-circle"></i> Add unlimited areas manually</p>
                    </div>
                </div>

                <div class="filter-section">
                    <h4><i class="fas fa-building"></i> Property Type</h4>
                    <div class="filter-options" id="propertyTypeFilters">
                        <!-- Will be populated by JS -->
                    </div>
                </div>

                <div class="filter-section">
                    <h4><i class="fas fa-money-bill"></i> Price Range (AED)</h4>
                    <div class="price-range">
                        <input type="number" id="minPrice" placeholder="Min">
                        <input type="number" id="maxPrice" placeholder="Max">
                    </div>
                </div>

                <div class="filter-section">
                    <h4><i class="fas fa-home"></i> Property Status</h4>
                    <div class="radio-group">
                        <label class="radio-label">
                            <input type="radio" name="propertyStatus" value="" checked> Any
                        </label>
                        <label class="radio-label">
                            <input type="radio" name="propertyStatus" value="rent"> For Rent
                        </label>
                        <label class="radio-label">
                            <input type="radio" name="propertyStatus" value="sale"> For Sale
                        </label>
                        <label class="radio-label">
                            <input type="radio" name="propertyStatus" value="under-construction"> Under Construction
                        </label>
                        <label class="radio-label">
                            <input type="radio" name="propertyStatus" value="sold-out"> Sold Out
                        </label>
                    </div>
                </div>

                <div class="filter-section">
                    <h4><i class="fas fa-check-circle"></i> Amenities</h4>
                    <div class="filter-options">
                        <label class="filter-checkbox">
                            <input type="checkbox" value="balcony"> Balcony
                        </label>
                        <label class="filter-checkbox">
                            <input type="checkbox" value="attachedWashroom"> Attached Washroom
                        </label>
                        <label class="filter-checkbox">
                            <input type="checkbox" value="window"> Window
                        </label>
                        <label class="filter-checkbox">
                            <input type="checkbox" value="commonWashroom"> Common Washroom
                        </label>
                        <label class="filter-checkbox">
                            <input type="checkbox" value="fullClosed"> Full Closed
                        </label>
                    </div>
                </div>

                <button class="apply-filters-btn" onclick="applyFilters()">
                    <i class="fas fa-search"></i> Apply Filters
                </button>
            </div>

            <!-- Content Area -->
            <div class="content-area">
                <!-- Properties Section -->
                <div id="propertiesSection">
                    <div class="properties-header">
                        <h2><i class="fas fa-building"></i> Available Properties</h2>
                        <div class="search-box">
                            <i class="fas fa-search"></i>
                            <input type="text" id="searchInput" placeholder="Search properties..." onkeyup="if(event.key === 'Enter') applyFilters()">
                        </div>
                    </div>

                    <div class="properties-grid" id="propertiesGrid">
                        <!-- Properties will be loaded here -->
                    </div>
                </div>

                <!-- Upload Section -->
                <div id="uploadSection" style="display: none;">
                    <div class="upload-form">
                        <h2><i class="fas fa-upload"></i> Upload New Property</h2>
                        
                        <div class="form-grid">
                            <!-- Property Title -->
                            <div class="form-group full-width">
                                <label>Property Title <span style="color: var(--primary);">*</span></label>
                                <input type="text" id="propertyTitle" placeholder="e.g., Skyline Residencies">
                            </div>

                            <!-- Location -->
                            <div class="form-group">
                                <label>City <span style="color: var(--primary);">*</span></label>
                                <select id="propertyCity" onchange="updatePropertyAreas()">
                                    <option value="">Select City</option>
                                    <option value="Dubai">Dubai</option>
                                    <option value="Abu Dhabi">Abu Dhabi</option>
                                    <option value="Sharjah">Sharjah</option>
                                    <option value="Ajman">Ajman</option>
                                    <option value="Ras Al Khaimah">Ras Al Khaimah</option>
                                    <option value="Fujairah">Fujairah</option>
                                    <option value="Umm Al Quwain">Umm Al Quwain</option>
                                </select>
                            </div>

                            <div class="form-group">
                                <label>Area <span style="color: var(--primary);">*</span></label>
                                <select id="propertyArea">
                                    <option value="">Select Area</option>
                                </select>
                            </div>

                            <!-- Property Details -->
                            <div class="form-group">
                                <label>Property Type <span style="color: var(--primary);">*</span></label>
                                <select id="propertyType">
                                    <optgroup label="Residential">
                                        <option value="Studio Apartment">Studio Apartment</option>
                                        <option value="Bed Space">Bed Space</option>
                                        <option value="Partition">Partition</option>
                                        <option value="Room">Room</option>
                                        <option value="Hall">Hall</option>
                                    </optgroup>
                                    <optgroup label="Apartments (BHK)">
                                        <option value="1 BHK">1 BHK</option>
                                        <option value="2 BHK">2 BHK</option>
                                        <option value="3 BHK">3 BHK</option>
                                        <option value="4 BHK">4 BHK</option>
                                        <option value="5 BHK">5 BHK</option>
                                        <option value="6 BHK">6 BHK</option>
                                        <option value="7 BHK">7 BHK</option>
                                        <option value="8 BHK">8 BHK</option>
                                        <option value="9 BHK">9 BHK</option>
                                        <option value="10 BHK">10 BHK</option>
                                        <option value="11 BHK">11 BHK</option>
                                        <option value="12 BHK">12 BHK</option>
                                        <option value="13 BHK">13 BHK</option>
                                        <option value="14 BHK">14 BHK</option>
                                        <option value="15 BHK">15 BHK</option>
                                        <option value="16 BHK">16 BHK</option>
                                        <option value="17 BHK">17 BHK</option>
                                        <option value="18 BHK">18 BHK</option>
                                        <option value="19 BHK">19 BHK</option>
                                        <option value="20 BHK">20 BHK</option>
                                    </optgroup>
                                    <optgroup label="Villas">
                                        <option value="Villa">Villa</option>
                                       <option value="1 BHK Villa">1 BHK Villa</option>
                                        <option value="2 BHK Villa">2 BHK Villa</option>
                                        <option value="3 BHK Villa">3 BHK Villa</option>
                                        <option value="4 BHK Villa">4 BHK Villa</option>
                                        <option value="5 BHK Villa">5 BHK Villa</option>
                                        <option value="6 BHK Villa">6 BHK Villa</option>
                                        <option value="7 BHK Villa">7 BHK Villa</option>
                                        <option value="8 BHK Villa">8 BHK Villa</option>
                                        <option value="9 BHK Villa">9 BHK Villa</option>
                                        <option value="10 BHK Villa">10 BHK Villa</option>
                                    </optgroup>
                                    <optgroup label="Commercial">
                                        <option value="Warehouse">Warehouse</option>
                                        <option value="Shop">Shop</option>
                                        <option value="Office - Building">Office - Building</option>
                                        <option value="Office - Street">Office - Street</option>
                                    </optgroup>
                                </select>
                            </div>

                            <!-- Price & Status -->
                            <div class="form-group">
                                <label>Price (AED) <span style="color: var(--primary);">*</span></label>
                                <input type="number" id="propertyPrice" placeholder="e.g., 280000">
                            </div>

                            <div class="form-group">
                                <label>Property Status <span style="color: var(--primary);">*</span></label>
                                <select id="propertyStatus">
                                    <option value="rent">For Rent</option>
                                    <option value="sale">For Sale</option>
                                    <option value="under-construction">Under Construction</option>
                                    <option value="sold-out">Sold Out</option>
                                </select>
                            </div>

                            <!-- Size -->
                            <div class="form-group">
                                <label>Size (Sq Ft) <span style="color: var(--primary);">*</span></label>
                                <input type="number" id="propertyAreaSize" placeholder="e.g., 500">
                            </div>

                            <!-- Rooms -->
                            <div class="form-group">
                                <label>Bedrooms</label>
                                <input type="number" id="propertyBedrooms" placeholder="Number of bedrooms" value="0">
                            </div>

                            <div class="form-group">
                                <label>Bathrooms</label>
                                <input type="number" id="propertyBathrooms" placeholder="Number of bathrooms" value="1">
                            </div>

                            <!-- Vacancy -->
                            <div class="form-group">
                                <label>Vacancy Count</label>
                                <input type="number" id="propertyVacancy" value="3" readonly>
                                <small style="color: #999;">3 vacancies per month</small>
                            </div>

                            <!-- Description -->
                            <div class="form-group full-width">
                                <label>Description</label>
                                <textarea id="propertyDescription" placeholder="Detailed description of the property..."></textarea>
                            </div>

                            <!-- Amenities Section -->
                            <div class="form-group full-width">
                                <h3 style="color: var(--primary); margin: 1rem 0;">Amenities</h3>
                            </div>

                            <div class="form-group">
                                <label>Balcony</label>
                                <select id="balcony">
                                    <option value="yes">Yes</option>
                                    <option value="no" selected>No</option>
                                </select>
                            </div>

                            <div class="form-group">
                                <label>Attached Washroom</label>
                                <select id="attachedWashroom">
                                    <option value="yes">Yes</option>
                                    <option value="no" selected>No</option>
                                </select>
                            </div>

                            <div class="form-group">
                                <label>Window</label>
                                <select id="window">
                                    <option value="yes">Yes</option>
                                    <option value="no" selected>No</option>
                                </select>
                            </div>

                            <div class="form-group">
                                <label>Common Washroom</label>
                                <select id="commonWashroom">
                                    <option value="yes">Yes</option>
                                    <option value="no" selected>No</option>
                                </select>
                            </div>

                            <div class="form-group">
                                <label>Full Closed</label>
                                <select id="fullClosed">
                                    <option value="yes">Yes</option>
                                    <option value="no" selected>No</option>
                                </select>
                            </div>

                            <!-- Image Labels -->
                            <div class="form-group full-width">
                                <h3 style="color: var(--primary); margin: 1rem 0;">Image Labels</h3>
                            </div>

                            <div class="form-group">
                                <label>Main Image Label</label>
                                <input type="text" id="mainImageLabel" placeholder="e.g., Living Room">
                            </div>

                            <div class="form-group">
                                <label>Second Image Label</label>
                                <input type="text" id="secondImageLabel" placeholder="e.g., Master Bedroom">
                            </div>

                            <div class="form-group">
                                <label>Third Image Label</label>
                                <input type="text" id="thirdImageLabel" placeholder="e.g., Kitchen">
                            </div>

                            <div class="form-group">
                                <label>Fourth Image Label</label>
                                <input type="text" id="fourthImageLabel" placeholder="e.g., Maid Room">
                            </div>

                            <div class="form-group">
                                <label>Fifth Image Label</label>
                                <input type="text" id="fifthImageLabel" placeholder="e.g., Bathroom">
                            </div>

                            <div class="form-group">
                                <label>Sixth Image Label</label>
                                <input type="text" id="sixthImageLabel" placeholder="e.g., View">
                            </div>

                            <!-- Image Upload -->
                            <div class="form-group full-width">
                                <label>Property Images (Max 6)</label>
                                <div class="image-upload-area" onclick="document.getElementById('imageInput').click()">
                                    <i class="fas fa-cloud-upload-alt"></i>
                                    <p>Click to upload images</p>
                                    <p style="font-size: 0.8rem;">Upload 6 images for best layout</p>
                                </div>
                                <input type="file" id="imageInput" multiple accept="image/*" style="display: none;" onchange="handleImageUpload(event)">
                                <div class="image-preview" id="imagePreview"></div>
                            </div>

                            <!-- Contact Numbers -->
                            <div class="form-group full-width">
                                <h3 style="color: var(--primary); margin: 1rem 0;">Contact Information</h3>
                            </div>

                            <div class="form-group">
                                <label>WhatsApp Number</label>
                                <input type="text" id="whatsappNumber" placeholder="+971 50 123 4567" value="+971 50 123 4567">
                            </div>

                            <div class="form-group">
                                <label>Phone Number</label>
                                <input type="text" id="phoneNumber" placeholder="+971 4 987 6543" value="+971 4 987 6543">
                            </div>

                            <!-- Profile Code -->
                            <div class="form-group">
                                <label>Profile Code</label>
                                <input type="text" id="profileCode" readonly placeholder="Auto-generated">
                            </div>
                        </div>

                        <button class="btn-upload" onclick="uploadProperty()">
                            <i class="fas fa-upload"></i> Upload Property
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Property Details Modal -->
    <div class="property-modal" id="propertyModal">
        <div class="modal-content">
            <div class="modal-close" onclick="closeModal()">
                <i class="fas fa-times"></i>
            </div>
            
            <div class="modal-gallery" id="modalGallery">
                <!-- Gallery will be populated dynamically -->
            </div>

            <div class="modal-details" id="modalDetails">
                <!-- Details will be populated dynamically -->
            </div>
        </div>
    </div>

    <script>
        // Predefined cities with their default areas
        const defaultCityAreas = {
            'Dubai': ['Downtown Dubai', 'Palm Jumeirah', 'Dubai Marina', 'JLT', 'Business Bay', 'Arabian Ranches', 'Jumeirah', 'Deira', 'Bur Dubai', 'Al Barsha', 'Al Rashidiya'],
            'Abu Dhabi': ['Corniche', 'Al Reem Island', 'Yas Island', 'Saadiyat Island', 'Khalifa City', 'Al Raha Beach', 'Al Bateen'],
            'Sharjah': ['Al Majaz', 'Al Nahda', 'Al Taawun', 'Al Khan', 'Al Qasimia'],
            'Ajman': ['Al Nuaimia', 'Al Rashidiya', 'Al Jurf', 'Al Mowaihat', 'Al Rashidiya 2', 'Al Rashidiya 3'],
            'Ras Al Khaimah': ['Al Hamra Village', 'Al Marjan Island', 'Mina Al Arab'],
            'Fujairah': ['Al Faseel', 'Al Reef', 'Al Maktoum'],
            'Umm Al Quwain': ['Al Salamah', 'Al Raas', 'Al Aahad']
        };

        // Store custom areas for each city
        let customAreas = JSON.parse(localStorage.getItem('customAreas')) || {};

        // Property types list - 1 BHK to 20 BHK
        const propertyTypes = [
            'Studio Apartment', 'Bed Space', 'Partition', 'Room', 'Hall',
            '1 BHK', '2 BHK', '3 BHK', '4 BHK', '5 BHK', '6 BHK', '7 BHK', '8 BHK', '9 BHK', '10 BHK',
            '11 BHK', '12 BHK', '13 BHK', '14 BHK', '15 BHK', '16 BHK', '17 BHK', '18 BHK', '19 BHK', '20 BHK',
            'Villa', '1 BHK Villa', '2 BHK Villa', '3 BHK Villa', '4 BHK Villa', '5 BHK Villa', '6 BHK Villa',
            'Warehouse', 'Shop', 'Office - Building', 'Office - Street'
        ];

        // User credentials
        const validUser = {
            username: 'user',
            password: 'password123'
        };

        const validAdmin = {
            username: 'admin',
            password: 'admin123'
        };

        let currentUser = null;
        let properties = JSON.parse(localStorage.getItem('properties')) || [];
        let selectedImages = [];

        // Initialize with sample data
        if (properties.length === 0) {
            const now = new Date();
            const today = now.toISOString();
            const yesterday = new Date(now.setDate(now.getDate() - 1)).toISOString();
            const twoDaysAgo = new Date(now.setDate(now.getDate() - 1)).toISOString();

            properties = [
                {
                    id: 1,
                    profileCode: '561',
                    title: 'Skyline Residencies',
                    city: 'Dubai',
                    area: 'Dubai Marina',
                    type: 'Studio Apartment',
                    price: 280000,
                    propertyStatus: 'rent',
                    bedrooms: 0,
                    bathrooms: 1,
                    areaSize: 500,
                    description: 'Beautiful studio apartment in prime location with modern amenities.',
                    amenities: {
                        balcony: 'yes',
                        attachedWashroom: 'yes',
                        window: 'yes',
                        commonWashroom: 'no',
                        fullClosed: 'yes'
                    },
                    imageLabels: {
                        main: 'Living Room',
                        second: 'Master Bedroom',
                        third: 'Kitchen',
                        fourth: 'Maid Room',
                        fifth: 'Bathroom',
                        sixth: 'View'
                    },
                    vacancy: 3,
                    images: [
                        'https://images.unsplash.com/photo-1501183638710-841dd1904471?w=800',
                        'https://images.unsplash.com/photo-1554995207-c18c203602cb?w=800',
                        'https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?w=800',
                        'https://images.unsplash.com/photo-1560448075-bb4caa6c0c39?w=800',
                        'https://images.unsplash.com/photo-1560184897-ae75f418493e?w=800',
                        'https://images.unsplash.com/photo-1560185009-5bf9f2849488?w=800'
                    ],
                    contact: {
                        whatsapp: '+971 50 123 4567',
                        phone: '+971 4 987 6543'
                    },
                    userId: 'user',
                    status: 'approved',
                    createdAt: today
                },
                {
                    id: 2,
                    profileCode: '562',
                    title: 'Modern Apartment with Sea View',
                    city: 'Dubai',
                    area: 'Dubai Marina',
                    type: '2 BHK',
                    price: 180000,
                    propertyStatus: 'rent',
                    bedrooms: 2,
                    bathrooms: 3,
                    areaSize: 1200,
                    description: 'Modern apartment with breathtaking sea view. Fully furnished.',
                    amenities: {
                        balcony: 'yes',
                        attachedWashroom: 'yes',
                        window: 'yes',
                        commonWashroom: 'no',
                        fullClosed: 'yes'
                    },
                    imageLabels: {
                        main: 'Living Room',
                        second: 'Master Bedroom',
                        third: 'Kitchen',
                        fourth: 'Balcony View',
                        fifth: 'Second Bedroom',
                        sixth: 'Bathroom'
                    },
                    vacancy: 2,
                    images: [
                        'https://images.unsplash.com/photo-1502672260266-1c1ef2d93688?w=800',
                        'https://images.unsplash.com/photo-1522708323590-d24dbb6b0267?w=800',
                        'https://images.unsplash.com/photo-1560185009-5bf9f2849488?w=800',
                        'https://images.unsplash.com/photo-1501183638710-841dd1904471?w=800',
                        'https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?w=800',
                        'https://images.unsplash.com/photo-1560184897-ae75f418493e?w=800'
                    ],
                    contact: {
                        whatsapp: '+971 50 123 4567',
                        phone: '+971 4 987 6543'
                    },
                    userId: 'user',
                    status: 'approved',
                    createdAt: yesterday
                },
                {
                    id: 3,
                    profileCode: '563',
                    title: 'Luxury Villa with Pool',
                    city: 'Dubai',
                    area: 'Palm Jumeirah',
                    type: '5 BHK Villa',
                    price: 8500000,
                    propertyStatus: 'sale',
                    bedrooms: 5,
                    bathrooms: 7,
                    areaSize: 5000,
                    description: 'Luxury villa with private pool and beach access.',
                    amenities: {
                        balcony: 'yes',
                        attachedWashroom: 'yes',
                        window: 'yes',
                        commonWashroom: 'no',
                        fullClosed: 'yes'
                    },
                    imageLabels: {
                        main: 'Living Room',
                        second: 'Master Bedroom',
                        third: 'Kitchen',
                        fourth: 'Pool',
                        fifth: 'Garden',
                        sixth: 'View'
                    },
                    vacancy: 1,
                    images: [
                        'https://images.unsplash.com/photo-1613977257363-707ba9348227?w=800',
                        'https://images.unsplash.com/photo-1512917774080-9991f1c4c750?w=800',
                        'https://images.unsplash.com/photo-1600596542815-ffad4c1539a9?w=800',
                        'https://images.unsplash.com/photo-1600585154340-be6161a56a0c?w=800',
                        'https://images.unsplash.com/photo-1600607687939-ce8a6c25118c?w=800',
                        'https://images.unsplash.com/photo-1600566753086-00f18fb6b3ea?w=800'
                    ],
                    contact: {
                        whatsapp: '+971 50 987 6543',
                        phone: '+971 4 123 4567'
                    },
                    userId: 'user',
                    status: 'approved',
                    createdAt: twoDaysAgo
                }
            ];
            localStorage.setItem('properties', JSON.stringify(properties));
        }

        // Initialize custom areas if empty
        if (Object.keys(customAreas).length === 0) {
            customAreas = JSON.parse(JSON.stringify(defaultCityAreas));
            localStorage.setItem('customAreas', JSON.stringify(customAreas));
        }

        // Login functions
        function switchLoginTab(type) {
            document.querySelectorAll('.login-tab').forEach(tab => tab.classList.remove('active'));
            event.target.classList.add('active');
        }

        function handleLogin() {
            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;
            const type = document.querySelector('.login-tab.active').textContent.includes('User') ? 'user' : 'admin';

            if (!username || !password) {
                alert('Please enter username and password');
                return;
            }

            if (type === 'admin') {
                if (username === validAdmin.username && password === validAdmin.password) {
                    currentUser = { username: 'admin', type: 'admin' };
                } else {
                    alert('Invalid admin credentials');
                    return;
                }
            } else {
                if (username === validUser.username && password === validUser.password) {
                    currentUser = { username: 'user', type: 'user' };
                } else {
                    alert('Invalid user credentials. Use: user / password123');
                    return;
                }
            }

            document.getElementById('loginPage').style.display = 'none';
            document.getElementById('dashboard').classList.add('active');
            
            document.getElementById('displayName').textContent = currentUser.username;
            document.getElementById('userType').textContent = currentUser.type === 'admin' ? 'Administrator' : 'Property User';
            document.getElementById('userAvatar').textContent = currentUser.username.charAt(0).toUpperCase();

            if (currentUser.type === 'user') {
                document.getElementById('uploadLink').style.display = 'block';
            } else {
                document.getElementById('uploadLink').style.display = 'none';
            }

            document.getElementById('profileCode').value = Math.floor(560 + Math.random() * 100);
            populateFilters();
            loadAreas();
            loadProperties();
        }

        function toggleMobileMenu() {
            const navLinks = document.getElementById('navLinks');
            navLinks.classList.toggle('active');
        }

        function logout() {
            currentUser = null;
            document.getElementById('loginPage').style.display = 'flex';
            document.getElementById('dashboard').classList.remove('active');
            document.getElementById('username').value = 'user';
            document.getElementById('password').value = 'password123';
        }

        function showSection(section) {
            document.querySelectorAll('.nav-link').forEach(link => link.classList.remove('active'));
            event.target.classList.add('active');
            
            // Close mobile menu
            document.getElementById('navLinks').classList.remove('active');
            
            if (section === 'properties') {
                document.getElementById('propertiesSection').style.display = 'block';
                document.getElementById('uploadSection').style.display = 'none';
                loadProperties();
            } else {
                if (!currentUser || currentUser.type !== 'user') {
                    alert('Only users can upload properties');
                    return;
                }
                document.getElementById('propertiesSection').style.display = 'none';
                document.getElementById('uploadSection').style.display = 'block';
                document.getElementById('profileCode').value = Math.floor(560 + Math.random() * 100);
                loadAreasForUpload();
            }
        }

        // Area Management Functions
        function loadAreas() {
            const areaList = document.getElementById('areaList');
            const selectedCity = document.getElementById('filterCity').value;
            
            if (!selectedCity) {
                areaList.innerHTML = '<p style="color: var(--text-muted);">Select a city first</p>';
                return;
            }

            const cityAreas = customAreas[selectedCity] || [];
            
            areaList.innerHTML = cityAreas.map(area => `
                <div class="area-item">
                    <span>${area}</span>
                    <button onclick="removeArea('${area}')"><i class="fas fa-times"></i></button>
                </div>
            `).join('');
        }

        function addNewArea() {
            const selectedCity = document.getElementById('filterCity').value;
            const newArea = document.getElementById('newAreaInput').value.trim();

            if (!selectedCity) {
                alert('Please select a city first');
                return;
            }

            if (!newArea) {
                alert('Please enter an area name');
                return;
            }

            if (!customAreas[selectedCity]) {
                customAreas[selectedCity] = [];
            }

            if (customAreas[selectedCity].includes(newArea)) {
                alert('This area already exists');
                return;
            }

            customAreas[selectedCity].push(newArea);
            localStorage.setItem('customAreas', JSON.stringify(customAreas));
            
            document.getElementById('newAreaInput').value = '';
            loadAreas();
            updateFilterAreas();
            loadAreasForUpload();
        }

        function removeArea(area) {
            const selectedCity = document.getElementById('filterCity').value;
            
            if (confirm(`Remove area "${area}"?`)) {
                customAreas[selectedCity] = customAreas[selectedCity].filter(a => a !== area);
                localStorage.setItem('customAreas', JSON.stringify(customAreas));
                loadAreas();
                updateFilterAreas();
                loadAreasForUpload();
            }
        }

        function updateFilterAreas() {
            const filterCity = document.getElementById('filterCity').value;
            const filterArea = document.getElementById('filterArea');
            
            if (!filterArea) return;

            if (!filterCity) {
                filterArea.innerHTML = '<option value="">All Areas</option>';
                return;
            }

            const cityAreas = customAreas[filterCity] || [];
            filterArea.innerHTML = '<option value="">All Areas</option>';
            cityAreas.forEach(area => {
                filterArea.innerHTML += `<option value="${area}">${area}</option>`;
            });
        }

        function loadAreasForUpload() {
            const propertyCity = document.getElementById('propertyCity').value;
            const propertyArea = document.getElementById('propertyArea');
            
            if (!propertyCity) {
                propertyArea.innerHTML = '<option value="">Select Area</option>';
                return;
            }

            const cityAreas = customAreas[propertyCity] || [];
            propertyArea.innerHTML = '<option value="">Select Area</option>';
            cityAreas.forEach(area => {
                propertyArea.innerHTML += `<option value="${area}">${area}</option>`;
            });
        }

        document.getElementById('filterCity').addEventListener('change', function() {
            loadAreas();
            updateFilterAreas();
        });

        document.getElementById('propertyCity').addEventListener('change', loadAreasForUpload);

        function populateFilters() {
            const typeContainer = document.getElementById('propertyTypeFilters');
            typeContainer.innerHTML = '';
            propertyTypes.forEach(type => {
                typeContainer.innerHTML += `
                    <label class="filter-checkbox">
                        <input type="checkbox" value="${type}"> ${type}
                    </label>
                `;
            });
        }

        function handleImageUpload(event) {
            const files = Array.from(event.target.files);
            selectedImages = [...selectedImages, ...files].slice(0, 6);
            
            const preview = document.getElementById('imagePreview');
            preview.innerHTML = '';
            
            selectedImages.forEach((file, index) => {
                const reader = new FileReader();
                reader.onload = function(e) {
                    preview.innerHTML += `
                        <div class="preview-item">
                            <img src="${e.target.result}" alt="Preview">
                            <div class="remove-image" onclick="removeImage(${index})">
                                <i class="fas fa-times"></i>
                            </div>
                        </div>
                    `;
                };
                reader.readAsDataURL(file);
            });
        }

        function removeImage(index) {
            selectedImages.splice(index, 1);
            const preview = document.getElementById('imagePreview');
            preview.innerHTML = '';
            selectedImages.forEach((file, i) => {
                const reader = new FileReader();
                reader.onload = function(e) {
                    preview.innerHTML += `
                        <div class="preview-item">
                            <img src="${e.target.result}" alt="Preview">
                            <div class="remove-image" onclick="removeImage(${i})">
                                <i class="fas fa-times"></i>
                            </div>
                        </div>
                    `;
                };
                reader.readAsDataURL(file);
            });
        }

        function uploadProperty() {
            if (!currentUser || currentUser.type !== 'user') {
                alert('Please login as user to upload properties');
                return;
            }

            const imageUrls = selectedImages.map(img => URL.createObjectURL(img));
            
            while (imageUrls.length < 6) {
                imageUrls.push('https://images.unsplash.com/photo-1501183638710-841dd1904471?w=800');
            }

            const newProperty = {
                id: Date.now(),
                profileCode: document.getElementById('profileCode').value || Math.floor(560 + Math.random() * 100),
                title: document.getElementById('propertyTitle').value,
                city: document.getElementById('propertyCity').value,
                area: document.getElementById('propertyArea').value,
                type: document.getElementById('propertyType').value,
                price: parseFloat(document.getElementById('propertyPrice').value),
                propertyStatus: document.getElementById('propertyStatus').value,
                bedrooms: parseInt(document.getElementById('propertyBedrooms').value) || 0,
                bathrooms: parseInt(document.getElementById('propertyBathrooms').value) || 1,
                areaSize: parseFloat(document.getElementById('propertyAreaSize').value) || 0,
                description: document.getElementById('propertyDescription').value,
                amenities: {
                    balcony: document.getElementById('balcony').value,
                    attachedWashroom: document.getElementById('attachedWashroom').value,
                    window: document.getElementById('window').value,
                    commonWashroom: document.getElementById('commonWashroom').value,
                    fullClosed: document.getElementById('fullClosed').value
                },
                imageLabels: {
                    main: document.getElementById('mainImageLabel').value || 'Living Room',
                    second: document.getElementById('secondImageLabel').value || 'Master Bedroom',
                    third: document.getElementById('thirdImageLabel').value || 'Kitchen',
                    fourth: document.getElementById('fourthImageLabel').value || 'Maid Room',
                    fifth: document.getElementById('fifthImageLabel').value || 'Bathroom',
                    sixth: document.getElementById('sixthImageLabel').value || 'View'
                },
                vacancy: 3,
                images: imageUrls.slice(0, 6),
                contact: {
                    whatsapp: document.getElementById('whatsappNumber').value || '+971 50 123 4567',
                    phone: document.getElementById('phoneNumber').value || '+971 4 987 6543'
                },
                userId: currentUser.username,
                status: currentUser.type === 'admin' ? 'approved' : 'pending',
                createdAt: new Date().toISOString()
            };

            if (!newProperty.title || !newProperty.city || !newProperty.area || !newProperty.type || !newProperty.price) {
                alert('Please fill all required fields');
                return;
            }

            properties.push(newProperty);
            localStorage.setItem('properties', JSON.stringify(properties));
            
            alert('Property uploaded successfully!');
            showSection('properties');
            selectedImages = [];
            document.getElementById('imagePreview').innerHTML = '';
        }

        function applyFilters() {
            let filtered = [...properties];

            const city = document.getElementById('filterCity').value;
            if (city) {
                filtered = filtered.filter(p => p.city === city);
            }

            const area = document.getElementById('filterArea')?.value;
            if (area) {
                filtered = filtered.filter(p => p.area === area);
            }

            const typeCheckboxes = document.querySelectorAll('#propertyTypeFilters input:checked');
            if (typeCheckboxes.length > 0) {
                const selectedTypes = Array.from(typeCheckboxes).map(cb => cb.value);
                filtered = filtered.filter(p => selectedTypes.includes(p.type));
            }

            const minPrice = parseFloat(document.getElementById('minPrice').value);
            const maxPrice = parseFloat(document.getElementById('maxPrice').value);
            if (minPrice) {
                filtered = filtered.filter(p => p.price >= minPrice);
            }
            if (maxPrice) {
                filtered = filtered.filter(p => p.price <= maxPrice);
            }

            const propertyStatus = document.querySelector('input[name="propertyStatus"]:checked')?.value;
            if (propertyStatus) {
                filtered = filtered.filter(p => p.propertyStatus === propertyStatus);
            }

            const balconyCheck = document.querySelector('input[value="balcony"]')?.checked;
            if (balconyCheck) {
                filtered = filtered.filter(p => p.amenities.balcony === 'yes');
            }

            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            if (searchTerm) {
                filtered = filtered.filter(p => 
                    p.title.toLowerCase().includes(searchTerm) ||
                    p.description.toLowerCase().includes(searchTerm) ||
                    p.city.toLowerCase().includes(searchTerm) ||
                    p.area.toLowerCase().includes(searchTerm)
                );
            }

            // Sort by status priority: Under Construction > Sale > Rent > Sold Out > Newest
            filtered.sort((a, b) => {
                const statusOrder = { 
                    'under-construction': 1, 
                    'sale': 2, 
                    'rent': 3,
                    'sold-out': 4
                };
                const orderA = statusOrder[a.propertyStatus] || 5;
                const orderB = statusOrder[b.propertyStatus] || 5;
                if (orderA !== orderB) return orderA - orderB;
                return new Date(b.createdAt) - new Date(a.createdAt);
            });

            if (!currentUser || currentUser.type !== 'admin') {
                filtered = filtered.filter(p => p.status === 'approved');
            }

            displayProperties(filtered);
        }

        function loadProperties() {
            applyFilters();
        }

        function getStatusBadge(status) {
            const badges = {
                'rent': '<span class="status-badge rent">For Rent</span>',
                'sale': '<span class="status-badge sale">For Sale</span>',
                'under-construction': '<span class="status-badge under-construction">Under Construction</span>',
                'sold-out': '<span class="status-badge sold-out">Sold Out</span>'
            };
            return badges[status] || '';
        }

        function formatDate(dateString) {
            const date = new Date(dateString);
            const now = new Date();
            const diffTime = Math.abs(now - date);
            const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
            
            if (diffDays === 1) return 'Today';
            if (diffDays === 2) return 'Yesterday';
            return `${diffDays} days ago`;
        }

        function displayProperties(propertiesToShow) {
            const grid = document.getElementById('propertiesGrid');
            
            if (propertiesToShow.length === 0) {
                grid.innerHTML = `
                    <div class="no-results">
                        <i class="fas fa-search"></i>
                        <h3>No properties found</h3>
                        <p>Try adjusting your filters</p>
                    </div>
                `;
                return;
            }

            grid.innerHTML = propertiesToShow.map(prop => {
                const images = prop.images || [];
                const imageLabels = prop.imageLabels || { 
                    main: 'Living Room', 
                    second: 'Master Bedroom', 
                    third: 'Kitchen', 
                    fourth: 'Maid Room', 
                    fifth: 'Bathroom', 
                    sixth: 'View' 
                };
                const priceDisplay = `AED ${prop.price.toLocaleString()}`;
                const dateDisplay = formatDate(prop.createdAt);
                
                return `
                    <div class="property-card" onclick="showPropertyDetails(${prop.id})">
                        ${getStatusBadge(prop.propertyStatus)}
                        <div class="date-badge">
                            <i class="fas fa-calendar-alt"></i> ${dateDisplay}
                        </div>
                        
                        <div class="card-header">
                            <h1>Users Properties UAE</h1>
                            <p>Profile Code: ${prop.profileCode || '561'}</p>
                        </div>

                        <div class="image-grid-container">
                            <!-- Top row - 2 images side by side -->
                            <div class="grid-main">
                                <div class="img">
                                    <img src="${images[0]}" alt="${prop.title}" loading="lazy">
                                    <div class="label">${imageLabels.main}</div>
                                </div>
                                <div class="img">
                                    <img src="${images[1]}" alt="${prop.title}" loading="lazy">
                                    <div class="label">${imageLabels.second}</div>
                                </div>
                            </div>

                            <!-- Bottom row - 2 images side by side (left single, right column with 3) -->
                            <div class="grid-bottom">
                                <div class="img">
                                    <img src="${images[2]}" alt="${prop.title}" loading="lazy">
                                    <div class="label">${imageLabels.third}</div>
                                </div>

                                <div class="right-column">
                                    <div class="img">
                                        <img src="${images[3]}" alt="${prop.title}" loading="lazy">
                                        <div class="label">${imageLabels.fourth}</div>
                                    </div>
                                    <div class="img">
                                        <img src="${images[4]}" alt="${prop.title}" loading="lazy">
                                        <div class="label">${imageLabels.fifth}</div>
                                    </div>
                                    <div class="img">
                                        <img src="${images[5]}" alt="${prop.title}" loading="lazy">
                                        <div class="label">${imageLabels.sixth}</div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="price-row">
                            <div class="price">${priceDisplay} ${prop.propertyStatus === 'sale' ? '(Sale)' : prop.propertyStatus === 'rent' ? '/ monthly' : ''}</div>
                            <div class="title">${prop.title}</div>
                        </div>

                        <div class="info-grid">
                            <div class="info-box">
                                <i class="fas fa-map-marker-alt"></i> <b>Located in</b><br>
                                ${prop.area} Area
                            </div>
                            <div class="info-box">
                                <i class="fas fa-tag"></i> <b>Type:</b> ${prop.type}
                            </div>
                            <div class="info-box">
                                <i class="fas fa-ruler-combined"></i> <b>Size:</b> ${prop.areaSize} Sq Ft
                            </div>
                        </div>

                        <div class="features">
                            ${prop.amenities.window === 'yes' ? 
                                '<div class="feature"><i class="fa fa-window-maximize"></i> With Window</div>' : ''}
                            ${prop.amenities.balcony === 'yes' ? 
                                '<div class="feature"><i class="fa fa-building"></i> With Balcony</div>' : ''}
                            <div class="feature"><i class="fa fa-location-dot"></i> Prime Location</div>
                            <div class="feature"><i class="fa fa-bath"></i> ${prop.bathrooms} Washrooms</div>
                        </div>

                        <div class="contact">
                            <div class="numbers">
                                <div><i class="fab fa-whatsapp"></i> ${prop.contact?.whatsapp}</div>
                                <div><i class="fa fa-phone"></i> ${prop.contact?.phone}</div>
                            </div>

                            <div class="btns">
                                <button class="btn contact-btn" onclick="event.stopPropagation(); alert('Contact numbers shown above')">
                                    Contact Now
                                </button>
                                <button class="btn download-btn" onclick="event.stopPropagation(); downloadPropertyCard(${prop.id})">
                                    Download
                                </button>
                            </div>

                            ${currentUser?.type === 'admin' ? `
                                <div class="admin-actions">
                                    ${prop.status === 'pending' ? `
                                        <button class="approve-btn" onclick="event.stopPropagation(); approveProperty(${prop.id})">
                                            <i class="fas fa-check"></i> Approve
                                        </button>
                                    ` : ''}
                                    <button class="status-btn" onclick="event.stopPropagation(); changePropertyStatus(${prop.id})">
                                        <i class="fas fa-sync-alt"></i> Status
                                    </button>
                                    <button class="delete-btn" onclick="event.stopPropagation(); deleteProperty(${prop.id})">
                                        <i class="fas fa-trash"></i> Delete
                                    </button>
                                </div>
                            ` : ''}
                        </div>
                    </div>
                `;
            }).join('');
        }

        function clearAllFilters() {
            document.getElementById('filterCity').value = '';
            document.getElementById('filterArea').innerHTML = '<option value="">All Areas</option>';
            document.querySelectorAll('#propertyTypeFilters input').forEach(cb => cb.checked = false);
            document.getElementById('minPrice').value = '';
            document.getElementById('maxPrice').value = '';
            document.querySelectorAll('input[name="propertyStatus"]').forEach(rb => rb.checked = false);
            document.querySelector('input[name="propertyStatus"][value=""]').checked = true;
            document.querySelectorAll('.filter-options input[type="checkbox"]').forEach(cb => cb.checked = false);
            document.getElementById('searchInput').value = '';
            applyFilters();
            loadAreas();
        }

        function showPropertyDetails(propertyId) {
            const property = properties.find(p => p.id === propertyId);
            if (!property) return;

            const modal = document.getElementById('propertyModal');
            const gallery = document.getElementById('modalGallery');
            const details = document.getElementById('modalDetails');

            gallery.innerHTML = `
                <div class="main-image">
                    <img src="${property.images[0]}" id="mainModalImage">
                </div>
                <div class="thumbnail-grid">
                    ${property.images.map((img, index) => `
                        <div class="thumbnail ${index === 0 ? 'active' : ''}" onclick="changeModalImage('${img}', this)">
                            <img src="${img}" alt="Thumbnail">
                        </div>
                    `).join('')}
                </div>
            `;

            const amenities = [];
            if (property.amenities.balcony === 'yes') amenities.push('Balcony');
            if (property.amenities.attachedWashroom === 'yes') amenities.push('Attached Washroom');
            if (property.amenities.window === 'yes') amenities.push('Window');
            if (property.amenities.commonWashroom === 'yes') amenities.push('Common Washroom');
            if (property.amenities.fullClosed === 'yes') amenities.push('Full Closed');

            details.innerHTML = `
                <h2 class="modal-title">${property.title}</h2>
                <div class="modal-location">
                    <i class="fas fa-map-marker-alt"></i> ${property.area}, ${property.city} | Code: ${property.profileCode}
                </div>
                <div class="modal-price">
                    AED ${property.price.toLocaleString()} ${property.propertyStatus === 'sale' ? '(Sale)' : property.propertyStatus === 'rent' ? '(Rent)' : property.propertyStatus === 'under-construction' ? '(Under Construction)' : '(Sold Out)'}
                </div>

                <div class="modal-specs">
                    <div class="spec-item"><i class="fas fa-bed"></i> ${property.bedrooms} Beds</div>
                    <div class="spec-item"><i class="fas fa-bath"></i> ${property.bathrooms} Baths</div>
                    <div class="spec-item"><i class="fas fa-vector-square"></i> ${property.areaSize} sq ft</div>
                    <div class="spec-item"><i class="fas fa-calendar-alt"></i> ${property.vacancy}/3 Vacancies</div>
                </div>

                <div class="modal-description">${property.description}</div>

                <h3 style="color: var(--primary); margin-bottom: 1rem;">Amenities</h3>
                <div class="modal-amenities">
                    ${amenities.map(a => `<div class="amenity-item"><i class="fas fa-check-circle"></i> ${a}</div>`).join('')}
                </div>

                <div class="modal-actions">
                    <button class="btn-share" onclick="shareProperty(${property.id})"><i class="fas fa-share-alt"></i> Share</button>
                    <button class="btn-download" onclick="downloadPropertyCard(${property.id})"><i class="fas fa-download"></i> Download</button>
                </div>
            `;

            modal.classList.add('active');
        }

        function changeModalImage(src, element) {
            document.getElementById('mainModalImage').src = src;
            document.querySelectorAll('.thumbnail').forEach(thumb => thumb.classList.remove('active'));
            element.classList.add('active');
        }

        function closeModal() {
            document.getElementById('propertyModal').classList.remove('active');
        }

        function approveProperty(id) {
            if (!currentUser || currentUser.type !== 'admin') return;
            properties = properties.map(p => p.id === id ? {...p, status: 'approved'} : p);
            localStorage.setItem('properties', JSON.stringify(properties));
            applyFilters();
        }

        function changePropertyStatus(id) {
            if (!currentUser || currentUser.type !== 'admin') return;
            
            const property = properties.find(p => p.id === id);
            const statuses = ['rent', 'sale', 'under-construction', 'sold-out'];
            const currentIndex = statuses.indexOf(property.propertyStatus);
            const nextStatus = statuses[(currentIndex + 1) % statuses.length];
            
            properties = properties.map(p => p.id === id ? {...p, propertyStatus: nextStatus} : p);
            localStorage.setItem('properties', JSON.stringify(properties));
            applyFilters();
        }

        function deleteProperty(id) {
            if (!currentUser || currentUser.type !== 'admin') return;
            if (confirm('Delete this property?')) {
                properties = properties.filter(p => p.id !== id);
                localStorage.setItem('properties', JSON.stringify(properties));
                applyFilters();
            }
        }

        function shareProperty(id) {
            const property = properties.find(p => p.id === id);
            const text = ` ${property.title}\n ${property.area}, ${property.city}\n AED ${property.price.toLocaleString()}\n ${property.contact?.whatsapp}`;
            if (navigator.share) {
                navigator.share({ title: property.title, text });
            } else {
                navigator.clipboard.writeText(text);
                alert('Copied to clipboard!');
            }
        }

        // Updated Download Function
        function downloadPropertyCard(id) {
            const property = properties.find(p => p.id === id);
            
            const tempDiv = document.createElement('div');
            tempDiv.className = 'property-card';
            tempDiv.style.position = 'absolute';
            tempDiv.style.left = '-9999px';
            tempDiv.style.top = '-9999px';
            tempDiv.style.width = '900px';
            tempDiv.style.background = '#fff';
            tempDiv.style.padding = '24px';
            tempDiv.style.borderRadius = '16px';
            
            const imageLabels = property.imageLabels || { 
                main: 'Living Room', 
                second: 'Master Bedroom', 
                third: 'Kitchen', 
                fourth: 'Maid Room', 
                fifth: 'Bathroom', 
                sixth: 'View' 
            };
            
            tempDiv.innerHTML = `
                <div style="position: relative;">
                    <div style="position: absolute; top: 20px; right: 20px; padding: 8px 20px; border-radius: 30px; font-size: 14px; font-weight: 600; text-transform: uppercase; background: ${property.propertyStatus === 'rent' ? '#10b981' : property.propertyStatus === 'sale' ? '#f59e0b' : property.propertyStatus === 'under-construction' ? '#ef4444' : '#6b7280'}; color: white;">
                        ${property.propertyStatus === 'rent' ? 'For Rent' : property.propertyStatus === 'sale' ? 'For Sale' : property.propertyStatus === 'under-construction' ? 'Under Construction' : 'Sold Out'}
                    </div>
                    
                    <div style="position: absolute; top: 20px; left: 20px; padding: 6px 16px; border-radius: 30px; font-size: 12px; background: rgba(0,0,0,0.6); color: white; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-calendar-alt" style="color: #c9a227;"></i> ${formatDate(property.createdAt)}
                    </div>
                    
                    <div style="text-align: center; margin-bottom: 20px;">
                        <h1 style="color: #1a2a45; font-size: 28px; font-weight: 700;">Users Properties UAE</h1>
                        <p style="color: #c9a227; font-size: 16px; font-weight: 500;">Profile Code: ${property.profileCode || '561'}</p>
                    </div>

                    <div style="margin-bottom: 20px;">
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 8px; height: 200px; margin-bottom: 8px;">
                            <div style="position: relative; overflow: hidden; border-radius: 12px; height: 100%;">
                                <img src="${property.images[0]}" style="width: 100%; height: 100%; object-fit: cover;">
                                <div style="position: absolute; bottom: 8px; left: 10px; background: rgba(201,162,39,0.9); color: white; padding: 4px 12px; border-radius: 20px; font-size: 12px;">${imageLabels.main}</div>
                            </div>
                            <div style="position: relative; overflow: hidden; border-radius: 12px; height: 100%;">
                                <img src="${property.images[1]}" style="width: 100%; height: 100%; object-fit: cover;">
                                <div style="position: absolute; bottom: 8px; left: 10px; background: rgba(201,162,39,0.9); color: white; padding: 4px 12px; border-radius: 20px; font-size: 12px;">${imageLabels.second}</div>
                            </div>
                        </div>

                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 8px; height: 200px;">
                            <div style="position: relative; overflow: hidden; border-radius: 12px; height: 100%;">
                                <img src="${property.images[2]}" style="width: 100%; height: 100%; object-fit: cover;">
                                <div style="position: absolute; bottom: 8px; left: 10px; background: rgba(201,162,39,0.9); color: white; padding: 4px 12px; border-radius: 20px; font-size: 12px;">${imageLabels.third}</div>
                            </div>

                            <div style="display: grid; grid-template-rows: repeat(3, 1fr); gap: 8px; height: 100%;">
                                <div style="position: relative; overflow: hidden; border-radius: 12px; height: 100%;">
                                    <img src="${property.images[3]}" style="width: 100%; height: 100%; object-fit: cover;">
                                    <div style="position: absolute; bottom: 5px; left: 8px; background: rgba(201,162,39,0.9); color: white; padding: 3px 10px; border-radius: 15px; font-size: 11px;">${imageLabels.fourth}</div>
                                </div>
                                <div style="position: relative; overflow: hidden; border-radius: 12px; height: 100%;">
                                    <img src="${property.images[4]}" style="width: 100%; height: 100%; object-fit: cover;">
                                    <div style="position: absolute; bottom: 5px; left: 8px; background: rgba(201,162,39,0.9); color: white; padding: 3px 10px; border-radius: 15px; font-size: 11px;">${imageLabels.fifth}</div>
                                </div>
                                <div style="position: relative; overflow: hidden; border-radius: 12px; height: 100%;">
                                    <img src="${property.images[5]}" style="width: 100%; height: 100%; object-fit: cover;">
                                    <div style="position: absolute; bottom: 5px; left: 8px; background: rgba(201,162,39,0.9); color: white; padding: 3px 10px; border-radius: 15px; font-size: 11px;">${imageLabels.sixth}</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div style="display: flex; align-items: center; gap: 15px; margin: 20px 0; flex-wrap: wrap;">
                        <div style="background: #0c3554; color: white; padding: 10px 25px; border-radius: 40px; font-size: 24px; font-weight: 700;">AED ${property.price.toLocaleString()}</div>
                        <div style="font-size: 22px; color: #1a2a45; font-weight: 600;">${property.title}</div>
                    </div>

                    <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px; margin-bottom: 20px; background: #f8f9fa; padding: 15px; border-radius: 12px;">
                        <div style="font-size: 15px; color: #333;">
                            <i class="fas fa-map-marker-alt" style="color: #c9a227;"></i> <b style="color: #0c3554;">Located in</b><br>
                            ${property.area} Area
                        </div>
                        <div style="font-size: 15px; color: #333;">
                            <i class="fas fa-tag" style="color: #c9a227;"></i> <b style="color: #0c3554;">Type:</b> ${property.type}
                        </div>
                        <div style="font-size: 15px; color: #333;">
                            <i class="fas fa-ruler-combined" style="color: #c9a227;"></i> <b style="color: #0c3554;">Size:</b> ${property.areaSize} Sq Ft
                        </div>
                    </div>

                    <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 12px; margin-bottom: 20px;">
                        ${property.amenities.window === 'yes' ? 
                            '<div style="background: #f3f4f6; padding: 10px 12px; border-radius: 30px; font-size: 13px; display: flex; align-items: center; gap: 6px; color: #333;"><i class="fa fa-window-maximize" style="color: #c9a227;"></i> With Window</div>' : ''}
                        ${property.amenities.balcony === 'yes' ? 
                            '<div style="background: #f3f4f6; padding: 10px 12px; border-radius: 30px; font-size: 13px; display: flex; align-items: center; gap: 6px; color: #333;"><i class="fa fa-building" style="color: #c9a227;"></i> With Balcony</div>' : ''}
                        <div style="background: #f3f4f6; padding: 10px 12px; border-radius: 30px; font-size: 13px; display: flex; align-items: center; gap: 6px; color: #333;"><i class="fa fa-location-dot" style="color: #c9a227;"></i> Prime Location</div>
                        <div style="background: #f3f4f6; padding: 10px 12px; border-radius: 30px; font-size: 13px; display: flex; align-items: center; gap: 6px; color: #333;"><i class="fa fa-bath" style="color: #c9a227;"></i> ${property.bathrooms} Washrooms</div>
                    </div>

                    <div style="display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 15px; margin-top: 15px; padding-top: 15px; border-top: 2px solid #eee;">
                        <div style="font-size: 16px; color: #333;">
                            <div style="margin: 5px 0;"><i class="fab fa-whatsapp" style="color: #c9a227; width: 20px;"></i> ${property.contact?.whatsapp}</div>
                            <div style="margin: 5px 0;"><i class="fa fa-phone" style="color: #c9a227; width: 20px;"></i> ${property.contact?.phone}</div>
                        </div>
                    </div>
                </div>
            `;
            
            document.body.appendChild(tempDiv);
            
            html2canvas(tempDiv, {
                scale: 2,
                backgroundColor: '#ffffff',
                logging: false,
                allowTaint: true,
                useCORS: true
            }).then(canvas => {
                const { jsPDF } = window.jspdf;
                const pdf = new jsPDF({
                    orientation: 'portrait',
                    unit: 'px',
                    format: [900, 1500]
                });
                
                const imgData = canvas.toDataURL('image/png');
                pdf.addImage(imgData, 'PNG', 0, 0, 900, 1500);
                pdf.save(`${property.title}.pdf`);
                
                document.body.removeChild(tempDiv);
            }).catch(error => {
                console.error('Error generating PDF:', error);
                alert('Error generating PDF. Please try again.');
                document.body.removeChild(tempDiv);
            });
        }

        document.getElementById('searchInput').addEventListener('keyup', function(e) {
            if (e.key === 'Enter') applyFilters();
        });
    </script>
</body>
</html>